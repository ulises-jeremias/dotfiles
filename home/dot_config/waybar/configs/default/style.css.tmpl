/* ============================================================================
 * Waybar i3-Style Configuration - Smart Colors Edition (Cozy Variant)
 * ============================================================================
 * Clean duplications and avoid parsing errors.
 * Palette: neutral base, moderate accents, highlighted states.
 * ============================================================================ */

@import "{{ joinPath .chezmoi.homeDir ".cache/wal/colors-waybar.css" }}";
@import "{{ joinPath .chezmoi.homeDir ".cache/dots/smart-colors/colors-waybar.css" }}";

/* ==========================================================================
 * Global
 * ==========================================================================
 */
* {
	border: none;
	border-radius: 0;
	font-family: "Hack Nerd Font Mono", "Noto Color Emoji", monospace;
	font-size: 13px;
	font-weight: normal;
	min-height: 0;
}

/* Increase icon size for Nerd Fonts without affecting text/numbers */
#workspaces button,
#custom-jgmenu,
#custom-apps,
#custom-window-switch,
#custom-rices,
#custom-audio-header {
	font-size: 22px;
}

/* Icon size for modules with icons + text */
#pulseaudio,
#pulseaudio.microphone,
#backlight,
#custom-night-mode,
#custom-github,
#custom-weather,
#battery,
#custom-performance-profile {
	font-size: 15px;
}

.text-small {
	font-size: 10px;
}

.text-normal {
	font-size: 12px;
}

.text-medium {
	font-size: 13px;
}

.text-large {
	font-size: 15px;
}

.text-xlarge {
	font-size: 18px;
}

/* ==========================================================================
 * Windows
 * ==========================================================================
 */
window#waybar.top {
	background-color: @bg-primary;
	color: @fg-primary;
	border-radius: 0px;
	border-radius: 12px;
}

window#waybar.bottom {
	background-color: @bg-primary;
	color: @fg-primary;
}

/* ==========================================================================
 * Workspaces
 * ==========================================================================
 */
#workspaces {
	background: transparent;
	margin: 0;
	padding: 0;
}

#workspaces button {
	background: transparent;
	color: @fg-primary;
	padding: 2px 12px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

#workspaces button:hover {
	background-color: @bg-hover;
	color: @smart-cyan;
	border-color: @smart-cyan;
}

#workspaces button.active {
	background-color: rgba(249, 181, 90, 0.15);
	color: @smart-orange;
	border-color: @smart-orange;
	font-weight: bold;
}

#workspaces button.urgent {
	background-color: @smart-error;
	color: @bg-primary;
}

@keyframes blink {
	0% {
		opacity: 1;
	}

	50% {
		opacity: 0.55;
	}

	100% {
		opacity: 1;
	}
}

@keyframes pulse {
	0% {
		opacity: 1;
	}

	50% {
		opacity: 0.7;
	}

	100% {
		opacity: 1;
	}
}

/* ==========================================================================
 * Custom Modules
 * ==========================================================================
 */
#custom-jgmenu,
#custom-apps,
#custom-window-switch,
#custom-rices {
	background: transparent;
	padding: 2px 12px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

#custom-jgmenu {
	color: @smart-cyan;
}

#custom-apps {
	color: @smart-pink;
}

#custom-window-switch {
	color: @smart-yellow;
}

#custom-rices {
	color: @smart-magenta;
}

#custom-jgmenu:hover,
#custom-apps:hover,
#custom-window-switch:hover,
#custom-rices:hover {
	background-color: @bg-hover;
	border-color: currentColor;
}

/* ==========================================================================
 * Audio & Brightness Groups
 * ==========================================================================
 */
/* Groups for audio (collapsible) and backlight */
box#audio,
box#volume,
box#backlight {
	background: transparent;
	padding: 2px 6px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

box#audio:hover {
	background-color: @bg-hover;
	border-color: rgba(235, 103, 152, 0.5);
}

box#volume:hover {
	background-color: @bg-hover;
	border-color: rgba(249, 181, 90, 0.5);
}

box#backlight:hover {
	background-color: @bg-hover;
	border-color: rgba(249, 226, 90, 0.5);
}

box#volume:hover #pulseaudio,
box#backlight:hover #backlight {
	color: @smart-orange;
}

/* Audio header styling */
#custom-audio-header {
	color: @smart-pink;
	font-size: 18px;
	border-left: 2px solid @smart-pink;
	padding-left: 4px;
	margin-right: 4px;
}

/* First module indicators in collapsed groups */
box#backlight > #backlight {
	border-left: 2px solid @smart-yellow;
	padding-left: 4px;
}

#pulseaudio,
#pulseaudio.microphone {
	background: transparent;
	padding: 2px 6px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

#pulseaudio.microphone:hover {
	background-color: @bg-hover;
	border-color: @smart-pink;
}

#backlight {
	background: transparent;
	padding: 2px 12px;
	margin: 0px;
	border: 1px solid transparent;
	border-radius: 0px;
	transition: all 0.2s ease;
}

#backlight:hover {
	background-color: @bg-hover;
	border-color: @smart-yellow;
}

#pulseaudio {
	color: @smart-orange;
}

#pulseaudio.microphone {
	color: @smart-pink;
}

#backlight {
	color: @smart-yellow;
}

#pulseaudio.muted,
#pulseaudio.microphone.source-muted {
	color: @smart-warning;
}

/* ==========================================================================
 * Clock
 * ==========================================================================
 */
#clock {
	background: rgba(255, 255, 255, 0.05);
	color: @fg-primary;
	padding: 2px 16px;
	margin: 4px 4px;
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 6px;
	font-weight: bold;
	font-size: 13px;
}

#clock:hover {
	background-color: @bg-hover;
	border-color: @smart-pink;
}

/* ==========================================================================
 * Toggles
 * ==========================================================================
 */
#custom-night-mode,
#custom-github,
#custom-weather,
#battery,
#custom-performance-profile {
	background: transparent;
	padding: 2px 10px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

#custom-night-mode {
	color: @smart-yellow;
}

#custom-github {
	color: @smart-green;
}

#custom-weather {
	color: @smart-cyan;
}

#battery {
	color: @smart-orange;
}

#custom-performance-profile {
	color: @smart-magenta;
}

#custom-night-mode:hover,
#custom-github:hover,
#custom-weather:hover,
#battery:hover,
#custom-performance-profile:hover {
	background-color: @bg-hover;
	border-color: currentColor;
}

#battery.charging {
	color: @smart-green;
}

#battery.plugged {
	color: @smart-cyan;
}

#battery.warning:not(.charging) {
	color: @smart-warning;
	animation: pulse 1s ease infinite;
}

#battery.critical:not(.charging) {
	color: @smart-error;
	animation: blink 1s ease infinite;
}

/* ==========================================================================
 * Tray
 * ==========================================================================
 */
#tray {
	background: transparent;
	padding: 2px 8px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
}

#tray:hover {
	background-color: @bg-hover;
	border-color: rgba(255, 255, 255, 0.1);
}

#tray>.passive {
	-gtk-icon-effect: dim;
}

#tray>.needs-attention {
	-gtk-icon-effect: highlight;
	animation: pulse 1s ease infinite;
}

/* ==========================================================================
 * Media Player
 * ==========================================================================
 */
#mpris,
#custom-playing,
#custom-player-controls,
#custom-player-info {
	background: transparent;
	padding: 2px 10px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	transition: all 0.2s ease;
}

#custom-player-controls {
	font-size: 13px;
	color: @smart-magenta;
}

#custom-player-controls:hover {
	background-color: @bg-hover;
	border-color: @smart-magenta;
}

#custom-player-info {
	color: @fg-primary;
	font-size: 12px;
}

/* ==========================================================================
 * Hyprland Window (Hidden - Used for .empty detection)
 * ==========================================================================
 */
#window {
	opacity: 0;
	margin: 0;
	padding: 0;
	min-width: 0;
	min-height: 0;
}

/* ==========================================================================
 * System Resources
 * ==========================================================================
 */
#language,
#disk,
#temperature {
	background: transparent;
	color: @fg-primary;
	padding: 2px 10px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	font-size: 12px;
	transition: all 0.2s ease;
}

#language:hover,
#disk:hover,
#temperature:hover {
	background-color: @bg-hover;
	border-color: @smart-cyan;
}

#memory {
	background: transparent;
	color: @smart-orange;
	padding: 2px 10px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	font-size: 12px;
	transition: all 0.2s ease;
}

#memory:hover {
	background-color: @bg-hover;
	border-color: @smart-orange;
}

#cpu {
	background: transparent;
	color: @smart-pink;
	padding: 2px 10px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
	font-size: 12px;
	transition: all 0.2s ease;
}

#cpu:hover {
	background-color: @bg-hover;
	border-color: @smart-pink;
}

#disk.warning,
#memory.warning,
#cpu.warning {
	color: @smart-warning;
	animation: pulse 1s ease infinite;
}

#disk.critical,
#memory.critical,
#cpu.critical,
#temperature.critical {
	color: @smart-error;
	animation: blink 1s ease infinite;
}

/* ==========================================================================
 * Sliders (Backlight & PulseAudio)
 * ==========================================================================
 * Styling for slider modules. GTK requires explicit min-width/height.
 */
#backlight-slider,
#pulseaudio-slider {
	background: transparent;
	padding: 2px 6px;
	margin: 4px 2px;
	border: 1px solid transparent;
	border-radius: 6px;
}

#backlight-slider trough,
#pulseaudio-slider trough {
	min-height: 8px;
	min-width: 80px;
	border-radius: 4px;
	background-color: @bg-hover;
	border: 1px solid rgba(255, 255, 255, 0.05);
}

#backlight-slider highlight {
	border-radius: 4px;
	background-color: @smart-yellow;
}

#pulseaudio-slider highlight {
	border-radius: 4px;
	background-color: @smart-orange;
}

#backlight-slider slider,
#pulseaudio-slider slider {
	min-width: 0;
	min-height: 0;
	opacity: 0;
	background: none;
	border: none;
	box-shadow: none;
}
