# ░█░█░█░█░█▀█░█▀▄░█░░░█▀█░█▀█░█▀▄
# ░█▀█░░█░░█▀▀░█▀▄░█░░░█▀█░█░█░█░█
# ░▀░▀░░▀░░▀░░░▀░▀░▀▀▀░▀░▀░▀░▀░▀▀░
#
# HorneroConfig - Hyprland Configuration
# Powered by the Hornero philosophy: Robust, Functional, Adaptable, Beautiful, Modular
#
# Documentation: https://wiki.hyprland.org/

# Source modular configurations
source = ~/.config/hypr/hyprland.conf.d/monitors.conf
source = ~/.config/hypr/hyprland.conf.d/autostart.conf
source = ~/.config/hypr/hyprland.conf.d/environment.conf
source = ~/.config/hypr/hyprland.conf.d/input.conf
source = ~/.config/hypr/hyprland.conf.d/keybindings.conf
source = ~/.config/hypr/hyprland.conf.d/window-rules.conf
source = ~/.config/hypr/hyprland.conf.d/animations.conf
source = ~/.config/hypr/hyprland.conf.d/colors.conf

# ============================================================================
# General Settings
# ============================================================================
# Layout and spacing following i3 gaps configuration pattern
# ============================================================================

general {
    # Gaps between windows (matching i3 gaps inner 12)
    gaps_in = 12
    gaps_out = 18

    # Border settings (matching i3 border pixel 2)
    border_size = 2

    # Border colors (will be overridden by colors.conf from smart-colors)
    col.active_border = rgba(cba6f7ee) rgba(89b4faee) 45deg
    col.inactive_border = rgba(595959aa)

    # Layout
    layout = dwindle

    # Allow tearing for gaming
    allow_tearing = false

    # Resize on border
    resize_on_border = true

    # Extend border grab area
    extend_border_grab_area = 15

    # Hover on border icon
    hover_icon_on_border = true
}

# ============================================================================
# Decoration Settings
# ============================================================================
# Matching visual consistency with Picom configuration:
# - Corner radius: 12px (same as picom.conf)
# - Blur: Similar to picom's dual_kawase strength 6
# - Shadow: Matching picom's shadow settings (radius 12, offset -12)
# ============================================================================

decoration {
    # Rounded corners (matching picom.conf corner-radius = 12)
    rounding = 12

    # Opacity settings
    active_opacity = 1.0
    inactive_opacity = 0.95
    fullscreen_opacity = 1.0

    # Blur settings (matching picom dual_kawase strength 6)
    blur {
        enabled = true
        size = 8
        passes = 3
        new_optimizations = true
        xray = true
        ignore_opacity = false
        noise = 0.0117
        contrast = 1.0
        brightness = 1.0
        vibrancy = 0.2
        vibrancy_darkness = 0.0
    }

    # Drop shadow (matching picom shadow settings)
    # Picom: radius=12, offset=-12, opacity=0.18
    shadow {
        enabled = true
        range = 12
        render_power = 2
        color = rgba(1a1a1a2e)
        offset = 0 0
        scale = 1.0
    }

    # Dim inactive windows
    dim_inactive = false
    dim_strength = 0.05
}

# ============================================================================
# Dwindle Layout Settings
# ============================================================================

dwindle {
    # Pseudotile (windows retain floating size when tiled)
    pseudotile = true
    preserve_split = true

    # Splitting behavior
    force_split = 0

    # Smart split
    smart_split = false

    # Smart resizing
    smart_resizing = true
}

# ============================================================================
# Master Layout Settings
# ============================================================================

master {
    # New window position (master/slave/inherit)
    new_status = master

    # New window behavior
    new_on_top = false

    # Orientation (left/right/top/bottom/center)
    orientation = left

    # Center master only when at least this many slave windows are open (0 = always center)
    slave_count_for_center_master = 2

    # Fallback orientation when slaves < slave_count_for_center_master
    center_master_fallback = left
}

# ============================================================================
# Gestures Settings
# ============================================================================

gestures {
    # Touchpad gesture settings
    workspace_swipe_distance = 300
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = true
    workspace_swipe_forever = false
}

# ============================================================================
# Miscellaneous Settings
# ============================================================================

misc {
    # VRR (Variable Refresh Rate)
    vrr = 0

    # Disable Hyprland logo
    disable_hyprland_logo = true
    disable_splash_rendering = true

    # Force default wallpaper
    force_default_wallpaper = 0

    # VFR (Variable Frame Rate)
    vfr = true

    # Window swallowing
    enable_swallow = true
    swallow_regex = ^(kitty)$

    # Focus on activate
    focus_on_activate = true

    # Mouse move enables dpms
    mouse_move_enables_dpms = true

    # Key press enables dpms
    key_press_enables_dpms = true

    # Always follow mouse
    always_follow_on_dnd = true

    # Layers hog keyboard focus
    layers_hog_keyboard_focus = true

    # Animate manual resizes
    animate_manual_resizes = true

    # Animate mouse windowdragging
    animate_mouse_windowdragging = true

    # Disable autoreload
    disable_autoreload = false

    # Initial workspace tracking
    initial_workspace_tracking = 1

    # Middle click paste
    middle_click_paste = true
}

# ============================================================================
# XWayland Settings
# ============================================================================

xwayland {
    # Force zero scaling for xwayland
    force_zero_scaling = true
}

# ============================================================================
# Debug Settings (disabled in production)
# ============================================================================

debug {
    # Overlay
    overlay = false

    # Damage tracking
    damage_tracking = 2

    # Damage blink
    damage_blink = false
}
