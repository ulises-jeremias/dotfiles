# ============================================================================
# Window Rules - Hyprland 0.53+ Block Syntax
# ============================================================================
#
# Format:
# windowrule {
#     name = rule-name
#     match:class = regex
#     match:title = regex
#     <rule> = <value>
# }
#
# ============================================================================

# ============================================================================
# System Utilities
# ============================================================================

windowrule {
    name = pavucontrol-float
    match:class = .*pavucontrol.*

    float = true
    center = true
    size = 40% 50%
}

windowrule {
    name = pwvucontrol-float
    match:class = .*pwvucontrol.*

    float = true
    center = true
    size = 40% 50%
}

windowrule {
    name = blueman-float
    match:class = .*blueman.*

    float = true
    center = true
    size = 40% 50%
}

windowrule {
    name = nm-connection-editor-float
    match:class = .*nm-connection-editor.*

    float = true
    center = true
    size = 40% 50%
}

windowrule {
    name = calculator-float
    match:class = .*calculator.*

    float = true
    center = true
}

# ============================================================================
# Wallpaper Manager (wpgtk)
# ============================================================================

windowrule {
    name = wpg-float
    match:class = .*[Ww]pg.*

    float = true
    center = true
    size = 40% 50%
}

# ============================================================================
# Community GUI Tools
# ============================================================================

windowrule {
    name = copyq-float
    match:class = .*copyq.*

    float = true
    center = true
    size = 35% 50%
    stay_focused = true
}

windowrule {
    name = fuzzel-float
    match:class = .*fuzzel.*

    float = true
    stay_focused = true
}

windowrule {
    name = wofi-float
    match:class = .*wofi.*

    float = true
    stay_focused = true
}

windowrule {
    name = nwg-look-float
    match:class = .*nwg-look.*

    float = true
    center = true
    size = 50% 60%
}

windowrule {
    name = nwg-displays-float
    match:class = .*nwg-displays.*

    float = true
    center = true
    size = 60% 70%
}

windowrule {
    name = nwg-bar-float
    match:class = .*nwg-bar.*

    float = true
    center = true
    size = 30% 40%
    stay_focused = true
}

windowrule {
    name = nwg-drawer-float
    match:class = .*nwg-drawer.*

    float = true
    size = 40% 60%
}

windowrule {
    name = auto-cpufreq-float
    match:class = .*auto-cpufreq.*

    float = true
    center = true
    size = 40% 50%
}

windowrule {
    name = wlogout-float
    match:title = .*wlogout.*

    float = true
    center = true
    stay_focused = true
}

# ============================================================================
# GTK Theme and Appearance Tools
# ============================================================================

windowrule {
    name = lxappearance-float
    match:class = .*lxappearance.*

    float = true
    center = true
    size = 50% 60%
}

# ============================================================================
# Display Configuration Tools
# ============================================================================

windowrule {
    name = arandr-float
    match:class = .*arandr.*

    float = true
    center = true
    size = 60% 70%
}

# ============================================================================
# LXQt Configuration Tools
# ============================================================================

windowrule {
    name = lxqt-config-float
    match:class = .*lxqt-config.*

    float = true
    center = true
    size = 60% 70%
}

# ============================================================================
# File Managers (dialogs)
# ============================================================================

windowrule {
    name = ranger-popup
    match:class = ^ranger-popup$

    float = true
    center = true
    size = 75% 80%
    opacity = 0.95 0.90
}

windowrule {
    name = file-operation-progress
    match:title = ^File Operation Progress$

    float = true
    center = true
}

windowrule {
    name = confirm-replace-files
    match:title = ^Confirm to replace files$

    float = true
    center = true
}

windowrule {
    name = thunar-bulk-rename
    match:class = ^thunar$
    match:title = ^Bulk Rename$

    float = true
    center = true
}

# ============================================================================
# System Monitors
# ============================================================================

windowrule {
    name = btop-float
    match:class = ^btop$

    float = true
    center = true
}

windowrule {
    name = htop-float
    match:class = ^htop$

    float = true
    center = true
}

# ============================================================================
# Picture-in-Picture
# ============================================================================

windowrule {
    name = pip-float
    match:title = ^Picture-in-Picture$

    float = true
    pin = true
    size = 25% 25%
    move = 72% 72%
}

# ============================================================================
# Rofi
# ============================================================================

windowrule {
    name = rofi-float
    match:class = ^Rofi$

    float = true
    stay_focused = true
    no_shadow = true
    rounding = 0
    animation = slide
}

# ============================================================================
# EWW Widgets
# ============================================================================

windowrule {
    name = eww-float
    match:class = ^eww$

    float = true
    no_shadow = true
    rounding = 0
}

windowrule {
    name = eww-background-no_focus
    match:class = ^eww$
    match:title = ^eww-background$

    no_focus = true
}

# ============================================================================
# Notification Daemon
# ============================================================================

windowrule {
    name = mako-float
    match:class = ^mako$

    float = true
    no_focus = true
    no_shadow = true
    rounding = 0
}

# ============================================================================
# Opacity Rules
# ============================================================================

windowrule {
    name = kitty-opacity
    match:class = ^kitty$

    opacity = 0.95 0.85
}

windowrule {
    name = alacritty-opacity
    match:class = ^Alacritty$

    opacity = 0.95 0.85
}

windowrule {
    name = thunar-opacity
    match:class = ^thunar$

    opacity = 0.95 0.90
}

windowrule {
    name = nautilus-opacity
    match:class = ^nautilus$

    opacity = 0.95 0.90
}

windowrule {
    name = dolphin-opacity
    match:class = ^dolphin$

    opacity = 0.95 0.90
}

windowrule {
    name = code-opacity
    match:class = ^Code$

    opacity = 0.98 0.95
}

windowrule {
    name = code-url-handler-opacity
    match:class = ^code-url-handler$

    opacity = 0.98 0.95
}

windowrule {
    name = discord-opacity
    match:class = ^discord$

    opacity = 0.95 0.90
}

windowrule {
    name = vesktop-opacity
    match:class = ^vesktop$

    opacity = 0.95 0.90
}

# ============================================================================
# Workspace Rules
# ============================================================================

windowrule {
    name = firefox-workspace
    match:class = ^firefox$

    workspace = 1 silent
}

windowrule {
    name = chromium-workspace
    match:class = ^chromium$

    workspace = 1 silent
}

windowrule {
    name = google-chrome-workspace
    match:class = ^google-chrome$

    workspace = 1 silent
}

windowrule {
    name = code-workspace
    match:class = ^Code$

    workspace = 2 silent
}

windowrule {
    name = discord-workspace
    match:class = ^discord$

    workspace = 3 silent
}

windowrule {
    name = vesktop-workspace
    match:class = ^vesktop$

    workspace = 3 silent
}

windowrule {
    name = slack-workspace
    match:class = ^Slack$

    workspace = 3 silent
}

windowrule {
    name = telegram-workspace
    match:class = ^telegram-desktop$

    workspace = 3 silent
}

windowrule {
    name = spotify-workspace
    match:class = ^[Ss]potify$

    workspace = 4 silent
    tile = true
}

# ============================================================================
# JGMenu
# ============================================================================

windowrule {
    name = jgmenu-no_border
    match:class = ^jgmenu$

    border_size = 0
    no_anim = true
}

# ============================================================================
# Games
# ============================================================================

windowrule {
    name = steam-games
    match:class = ^steam_app.*

    fullscreen = true
    immediate = true
    workspace = special:games silent
    no_blur = true
}

# ============================================================================
# Idle Inhibit
# ============================================================================

windowrule {
    name = mpv-idle
    match:class = ^mpv$

    idle_inhibit = always
}

windowrule {
    name = vlc-idle
    match:class = ^vlc$

    idle_inhibit = always
}

windowrule {
    name = firefox-youtube-idle
    match:class = ^firefox$
    match:title = .*YouTube.*

    idle_inhibit = focus
}

# ============================================================================
# Flameshot - Multi-monitor fix for Wayland
# ============================================================================

windowrule {
    name = flameshot-fix
    match:class = ^flameshot$
    match:title = ^flameshot$

    float = true
    move = 0 0
    pin = true
    no_anim = true
    no_initial_focus = true
    stay_focused = true
}

# ============================================================================
# Peek - GIF recorder
# ============================================================================

windowrule {
    name = peek-fix
    match:class = ^peek$

    float = true
    move = 0 0
    pin = true
    no_anim = true
    no_initial_focus = true
    stay_focused = true
    no_shadow = true
    border_size = 0
}

# ============================================================================
# XWayland Video Bridge
# ============================================================================

windowrule {
    name = xwayland-video-bridge
    match:class = ^xwaylandvideobridge$

    opacity = 0.0 override 0.0 override
    no_anim = true
    no_focus = true
    no_initial_focus = true
}

# ============================================================================
# Suppress Maximize Events (useful default)
# ============================================================================

windowrule {
    name = suppress-maximize-all
    match:class = .*

    suppress_event = maximize
}
