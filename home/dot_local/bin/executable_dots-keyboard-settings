#!/usr/bin/env bash

## Copyright (C) 2019-2025 Ulises Jeremias Cornejo Fandos
## Licensed under MIT.
##
## Keyboard Settings Manager
## Opens LXQt keyboard configuration GUI

set -euo pipefail

SCRIPT_NAME="$(basename "$0")"
readonly SCRIPT_NAME

# Open LXQt keyboard settings
open_keyboard_settings() {
  if command -v lxqt-config-input >/dev/null 2>&1; then
    lxqt-config-input &
  else
    notify-send "Error" "lxqt-config-input not installed. Install it with: sudo pacman -S lxqt-config-input"
    exit 1
  fi
}

# Show help
show_help() {
  cat <<EOF
Usage: $SCRIPT_NAME

Opens LXQt keyboard configuration GUI for comprehensive keyboard settings
including layouts, variants, key repeat rate, and more.

The GUI provides:
  - Multiple keyboard layouts
  - Layout variants
  - Keyboard model selection
  - Key repeat rate and delay
  - NumLock on startup

This is a community-maintained, lightweight solution that works well
with Wayland, X11, and Hyprland.
EOF
}

# Main logic
main() {
  case "${1:-}" in
    -h | --help)
      show_help
      ;;
    *)
      open_keyboard_settings
      ;;
  esac
}

main "$@"
